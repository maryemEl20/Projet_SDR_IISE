{% extends 'serveur/base.html' %}
{% load static %}

{% block title %}Modifier Employé{% endblock %}

{% block content %}
{% if messages %}
 <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}
<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <h2 class="page-header">Modifier l'employé : {{ employe.nom }}</h2>

        <div class="panel panel-default">
            <div class="panel-heading">
                Informations de l'employé
            </div>
            <div class="panel-body">
                <form method="post" role="form">
                    {% csrf_token %}

                    <div class="form-group has-success">
                        <label class="control-label" for="id_nom">Nom</label>
                        {{ form.nom }}
                        {% if form.nom.errors %}
                            <div class="text-danger">{{ form.nom.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group has-warning">
                        <label class="control-label" for="id_matricule">Matricule</label>
                        {{ form.matricule }}
                        {% if form.matricule.errors %}
                            <div class="text-danger">{{ form.matricule.errors }}</div>
                        {% endif %}
                    </div>

                    <button type="submit" class="btn btn-primary">Enregistrer</button>
                </form>
            </div>
        </div>

        <h3>Images actuelles</h3>
        <div class="row">
            {% for img in images %}
                <div class="col-xs-6 col-md-3 text-center">
                    <img src="{{ img.image_path.url }}" class="img-thumbnail" style="width:100px; height:100px;" alt="image">
                </div>
            {% empty %}
                <p class="text-muted">Aucune image disponible.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
